<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Chromatone lab</title>
  <link href="css/styles.css" rel="stylesheet" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <script src="js/assets/vue.js"></script>
  <script src="js/assets/Tone14.js"></script>
  <!-- https://tonejs.github.io/docs/14.5.44/ -->
  <script src="js/assets/color-hash.js"></script>
  <!-- https://github.com/zenozeng/color-hash -->
  <script src="js/assets/Sortable.min.js"></script>
  <script src="js/assets/vuedraggable.umd.min.js"></script>
  <!-- https://github.com/SortableJS/Vue.Draggable -->
</head>

<body>

  <div id="lab-app">
    <header class="row">
      <img height="22px" src="images/ct-logo.svg" />
    </header>
    <main>
        <draggable v-model="activeChannels" handle=".handle">
          <transition-group type="transition" name="flip-list">
              <channel
               :style="{backgroundColor:colorHash.hex(ch.id)}"
                v-for="ch in activeChannels"
                :key="ch.id"
                :title="ch.title"
                @close="remove(ch)"
                v-slot="chParams">
                <transition name="fade">
                  <component
                    v-show="chParams.show"
                    :is="ch.name"
                    :id="ch.id"
                    >
                  </component>
                </transition>
            </channel>
          </transition-group>
        </draggable>

        <section class="row">
          <h3>Add</h3>
          <button @click="add(ch)" v-for="ch in channels">
            {{ch.title}}
          </button>
        </section>
    </main>
  </div>

  <script type="module" src="js/lab.js">
  </script>

</body>

</html>
